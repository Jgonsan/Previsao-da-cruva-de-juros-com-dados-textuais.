ğŸ“˜ README â€” Fluctuation Test para Modelos de PrevisÃ£o da Estrutura a Termo
ğŸ” Objetivo
Este script realiza testes de flutuaÃ§Ã£o (Murphy Diagrams) para comparar o desempenho preditivo de diferentes modelos aplicados Ã  previsÃ£o da estrutura a termo da taxa de juros no Brasil, com horizonte de 1 mÃªs. O teste compara o modelo benchmark (Random Walk) com:

Modelos sem dados textuais (only)

Modelos com tom das atas do Copom

(Outros modelos podem ser incluÃ­dos de forma anÃ¡loga: tom do FOMC, polaridade, etc.)

ğŸ“ Estrutura dos Dados
O script usa os arquivos:

erros_selecionados_h1.csv: contÃ©m os erros de previsÃ£o para o horizonte de 1 mÃªs.

erros_selecionados_h12.csv: (carregado, mas ainda nÃ£o utilizado no script atual)

Esses arquivos devem conter colunas com os erros dos modelos, organizados por maturidade e por tipo de modelo, como rw_M1, only_M1, tone_copom_M1, etc.

ğŸ§° Bibliotecas Utilizadas
r
Copiar
Editar
library(murphydiagram)
library(readr)
library(patchwork)
library(ggplot2)
library(zoo)
library(lubridate)
ğŸ› ï¸ Etapas do CÃ³digo
Leitura dos dados de erro de previsÃ£o.

CriaÃ§Ã£o de vetores de datas para rotular o eixo temporal dos grÃ¡ficos.

SeparaÃ§Ã£o dos vetores de erro por modelo e maturidade.

AplicaÃ§Ã£o do teste de flutuaÃ§Ã£o (fluctuation_test) comparando modelos com o Random Walk (benchmark).

VisualizaÃ§Ã£o dos resultados com ggplot2, incluindo a linha de referÃªncia (critical value).

ExportaÃ§Ã£o dos grÃ¡ficos usando ggsave.

ğŸ“Š Modelos Comparados
Cada modelo Ã© avaliado em diferentes maturidades da curva (3M, 12M, 36M, 60M). Os testes geram um grÃ¡fico por modelo/maturidade com a estatÃ­stica de flutuaÃ§Ã£o ao longo do tempo.

Exemplo de grÃ¡ficos gerados:

"Horizonte: 1 mÃªs | Maturidade: 3M"

"Horizonte: 1 mÃªs | Maturidade: 12M"

etc.

ğŸ“ SaÃ­da
O script gera um arquivo .png com os grÃ¡ficos combinados dos testes realizados:

Sem dados textuais H1.png

(Outros arquivos de saÃ­da podem ser gerados para diferentes conjuntos de modelos)

âœï¸ ObservaÃ§Ãµes
A funÃ§Ã£o fluctuation_test() exige a definiÃ§Ã£o de mu, nÃ­vel de confianÃ§a (conf_level), e time_labels.

O parÃ¢metro dmv_fullsample = TRUE considera todo o perÃ­odo amostral para o cÃ¡lculo da estatÃ­stica.

O cÃ³digo pode ser facilmente adaptado para outros conjuntos de modelos (ex: tone_fomc, polaridade_copom, etc.) replicando os blocos de teste.
